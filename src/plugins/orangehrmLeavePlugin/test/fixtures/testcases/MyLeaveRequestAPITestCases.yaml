Create:
  'without params':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    invalidOnly: [ 'leaveTypeId', 'fromDate', 'toDate' ]

  'only with valid leave type id':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 1
    invalidOnly: [ 'fromDate', 'toDate' ]

  'invalid leave type id':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 100
    invalidOnly: [ 'leaveTypeId', 'fromDate', 'toDate' ]

  'to date not specified':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 1
      fromDate: '2021-10-10'
    invalidOnly: [ 'duration', 'fromDate', 'toDate' ]

  'from date not specified':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 1
      toDate: '2021-10-10'
    invalidOnly: [ 'fromDate' ]

  'from date > to date':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 1
      fromDate: '2021-10-11'
      toDate: '2021-10-10'
    invalidOnly: [ 'fromDate', 'duration' ]

  'single day - duration null (full day)':
    userId: 1
    now:
      datetime: '2021-09-15'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: null
        durationType:
          id: 0
          type: 'full_day'
        startTime: null
        endTime: null
      noOfDays: 1.0
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.5
            scheduled: 0.0
            pending: 3.5
            taken: 0.0
            balance: 3.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1.0
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'single day - full day':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      duration:
        type: 'full_day'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: null
        durationType:
          id: 0
          type: 'full_day'
        startTime: null
        endTime: null
      noOfDays: 1.0
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.5
            scheduled: 0.0
            pending: 3.5
            taken: 0.0
            balance: 3.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1.0
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'single day - half day morning':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      duration:
        type: 'half_day_morning'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: null
        durationType:
          id: 1
          type: 'half_day_morning'
        startTime: '09:00'
        endTime: '13:00'
      noOfDays: 0.5
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.0
            scheduled: 0.0
            pending: 3.0
            taken: 0.0
            balance: 4.0
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 0.5
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'single day - half day afternoon':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      duration:
        type: 'half_day_afternoon'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: null
        durationType:
          id: 2
          type: 'half_day_afternoon'
        startTime: '13:00'
        endTime: '17:00'
      noOfDays: 0.5
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.0
            scheduled: 0.0
            pending: 3.0
            taken: 0.0
            balance: 4.0
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 0.5
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'single day - specify time':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      comment: 'Quick out'
      duration:
        type: 'specify_time'
        fromTime: '12:00'
        toTime: '13:00'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: null
        durationType:
          id: 3
          type: 'specify_time'
        startTime: '12:00'
        endTime: '13:00'
      noOfDays: 0.125
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 2.625
            scheduled: 0.0
            pending: 2.625
            taken: 0.0
            balance: 4.375
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 0.125
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment:
        id: 8
        comment: 'Quick out'
        date: '2021-09-15'
        time: '10:15'
    meta:
      empNumber: 4

  'single day - specify time without time params':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      duration:
        type: 'specify_time'
    invalidOnly: [ 'duration' ]

  'single day - on a holiday':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-09-14'
      toDate: '2021-09-14'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Failed to Submit: No Working Days Selected'

  'single day - on a non working day':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-09-18'
      toDate: '2021-09-18'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Failed to Submit: No Working Days Selected'

  'single day - default model':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-11'
      comment: 'Quick out'
      duration:
        type: 'specify_time'
        fromTime: '12:00'
        toTime: '13:00'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dateApplied: '2021-10-11'
    meta:
      empNumber: 4

  'multi day - partial option null':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 2
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 4.5
            scheduled: 0.0
            pending: 4.5
            taken: 0.0
            balance: 2.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 2
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option none':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'none'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 2
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 4.5
            scheduled: 0.0
            pending: 4.5
            taken: 0.0
            balance: 2.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 2
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option all, duration half day morning':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'all'
      duration:
        type: 'half_day_morning'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.5
            scheduled: 0.0
            pending: 3.5
            taken: 0.0
            balance: 3.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option all, without duration':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'all'
    invalidOnly: [ 'duration' ]

  'multi day - partial option all, duration half day afternoon':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'all'
      duration:
        type: 'half_day_afternoon'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.5
            scheduled: 0.0
            pending: 3.5
            taken: 0.0
            balance: 3.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option all, duration specify time':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'all'
      duration:
        type: 'specify_time'
        fromTime: '12:00'
        toTime: '13:00'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 0.25
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 2.75
            scheduled: 0.0
            pending: 2.75
            taken: 0.0
            balance: 4.25
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 0.25
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option start, duration specify time':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'start'
      duration:
        type: 'specify_time'
        fromTime: '12:00'
        toTime: '13:00'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1.125
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.625
            scheduled: 0.0
            pending: 3.625
            taken: 0.0
            balance: 3.375
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1.125
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option start, without duration':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'start'
    invalidOnly: [ 'duration' ]

  'multi day - partial option end, duration specify time':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'end'
      duration:
        type: 'specify_time'
        fromTime: '12:00'
        toTime: '13:00'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1.125
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.625
            scheduled: 0.0
            pending: 3.625
            taken: 0.0
            balance: 3.375
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1.125
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option end, without duration':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'end'
    invalidOnly: [ 'duration' ]

  'multi day - partial option start end, duration specify time':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'start_end'
      duration:
        type: 'specify_time'
        fromTime: '09:00'
        toTime: '14:00'
      endDuration:
        type: 'specify_time'
        fromTime: '14:00'
        toTime: '17:00'
    query:
      model: 'detailed'
    data:
      id: 19
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-10-11'
        toDate: '2021-10-12'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.5
            scheduled: 0.0
            pending: 3.5
            taken: 0.0
            balance: 3.5
            asAtDate: '2021-10-11'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 1
          name: 'Pending Approval'
          lengthDays: 1
      allowedActions:
        - action: 'CANCEL'
          name: 'Cancel'
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'multi day - partial option start end, without duration':
    userId: 1
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
    body:
      leaveTypeId: 6
      fromDate: '2021-10-11'
      toDate: '2021-10-12'
      partialOption: 'start_end'
    invalidOnly: [ 'duration', 'endDuration' ]

  'leave balance exceeded':
    userId: 3
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2021-09-16'
      toDate: '2021-09-16'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Leave Balance Exceeded'

  'apply leave beyond max allowed leave period end date':
    userId: 3
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2025-09-16'
      toDate: '2025-09-16'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Cannot Apply Leave Beyond 2022-12-31'

  'apply leave beyond max allowed leave period end date - crossing two periods':
    userId: 3
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_type_service: \OrangeHRM\Leave\Service\LeaveTypeService
      leave.work_schedule_service: \OrangeHRM\Leave\Service\WorkScheduleService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.holiday_service: \OrangeHRM\Leave\Service\HolidayService
      leave.work_week_service: \OrangeHRM\Leave\Service\WorkWeekService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    body:
      leaveTypeId: 6
      fromDate: '2022-09-16'
      toDate: '2023-09-16'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Cannot Apply Leave Beyond 2022-12-31'

Update:
  'without params':
    userId: 1
    invalidOnly: [ 'leaveRequestId', 'action' ]

  'without action param':
    userId: 1
    attributes:
      leaveRequestId: 1
    invalidOnly: [ 'action' ]

  'without leaveRequestId param':
    userId: 1
    body:
      action: 'CANCEL'
    invalidOnly: [ 'leaveRequestId' ]

  'admin - cancel leave request multiple status leave request':
    userId: 2
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 4
    body:
      action: 'CANCEL'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Leave request has multiple statuses'
    query:
      model: detailed

  'admin - cancel not owned leave request':
    userId: 1
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 4
    body:
      action: 'CANCEL'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\ForbiddenException'
      message: 'Unauthorized'
    query:
      model: detailed

  'admin - approve when not allowed to approve own':
    userId: 1
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    body:
      action: 'APPROVE'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'
    query:
      model: detailed

  'admin - reject when not allowed to reject own':
    userId: 1
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    body:
      action: 'REJECT'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'
    query:
      model: detailed

  'admin - perform invalid action':
    userId: 1
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    body:
      action: 'Invalid'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'
    query:
      model: detailed

  'admin - cancel own leave request':
    userId: 1
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    body:
      action: 'CANCEL'
    query:
      model: detailed
    data:
      id: 2
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-09-23'
        toDate: '2021-09-26'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1.5
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 1.0
            scheduled: 0.0
            pending: 1.0
            taken: 0.0
            balance: 6.0
            asAtDate: '2021-09-23'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        - id: 0
          name: 'Cancelled'
          lengthDays: 1.5
      allowedActions: [ ]
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: 'Abbey'
        firstName: 'Kayla'
        middleName: ''
        employeeId: '0004'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'ess - cancel own multi period leave request':
    userId: 3
    now:
      datetime: '2021-09-15 10:15:00'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 3
    body:
      action: 'CANCEL'
    query:
      model: detailed
    data:
      id: 3
      leaveType:
        id: 6
        name: 'Medical'
        deleted: false
      dates:
        fromDate: '2021-12-30'
        toDate: '2022-01-02'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 2.0
      leaveBalances:
        - period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 6.5
            scheduled: 6.5
            pending: 0.0
            taken: 0.0
            balance: 0.5
            asAtDate: '2021-12-30'
            endDate: '2021-12-31'
        - period:
            startDate: '2022-01-01'
            endDate: '2022-12-31'
          balance:
            entitled: 7.0
            used: 0.0
            scheduled: 0.0
            pending: 0.0
            taken: 0.0
            balance: 7.0
            asAtDate: '2022-01-01'
            endDate: '2022-12-31'
      multiPeriod: true
      leaveBreakdown:
        - id: 0
          name: 'Cancelled'
          lengthDays: 2.0
      allowedActions: [ ]
      hasMultipleStatus: false
      employee:
        empNumber: 2
        lastName: 'Anderson'
        firstName: 'Linda'
        middleName: 'Jane'
        employeeId: '0002'
        terminationId: null
      lastComment: null
    meta:
      empNumber: 4

  'ess - not allowed to reject':
    userId: 3
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 3
    body:
      action: 'REJECT'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'

  'ess - not allowed to approve':
    userId: 3
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 3
    body:
      action: 'APPROVE'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'
    query:
      model: detailed

  'ess - perform invalid action':
    userId: 3
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 3
    body:
      action: 'Invalid'
    exception:
      class: '\OrangeHRM\Core\Api\V2\Exception\BadRequestException'
      message: 'Performed action not allowed'
    query:
      model: detailed

GetAll:
  'without query params':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    data: [
      {
        "id": 17,
        "dates": {
          "fromDate": "2021-11-04",
          "toDate": "2021-11-05",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-11-04",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1.5
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": {
          "id": 4,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      },
      {
        "id": 16,
        "dates": {
          "fromDate": "2021-11-03",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 0,
              "used": 1,
              "scheduled": 1,
              "pending": 0,
              "taken": 0,
              "balance": -1,
              "asAtDate": "2021-11-03",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 1,
          "name": "US - Personal",
          "deleted": false
        },
        "lastComment": {
          "id": 3,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      },
      {
        "id": 10,
        "dates": {
          "fromDate": "2021-10-29",
          "toDate": "2021-10-31",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-29",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 9,
        "dates": {
          "fromDate": "2021-10-27",
          "toDate": "2021-10-28",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-27",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.5
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 8,
        "dates": {
          "fromDate": "2021-10-25",
          "toDate": "2021-10-26",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-25",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.5
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 7,
        "dates": {
          "fromDate": "2021-10-12",
          "toDate": null,
          "durationType": {
            "id": 1,
            "type": "half_day_morning"
          },
          "startTime": "09:00",
          "endTime": "13:00"
        },
        "noOfDays": 0.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-10-12",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 0.5
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": {
          "id": 1,
          "comment": "Clinic day",
          "date": "2021-09-15",
          "time": "19:29"
        }
      },
      {
        "id": 5,
        "dates": {
          "fromDate": "2021-09-30",
          "toDate": null,
          "durationType": {
            "id": 3,
            "type": "specify_time"
          },
          "startTime": "09:00",
          "endTime": "14:00"
        },
        "noOfDays": 0.625,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-09-30",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.625
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 4,
        "dates": {
          "fromDate": "2021-09-02",
          "toDate": "2021-09-16",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 11.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-09-02",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 3,
            "name": "Taken",
            "lengthDays": 2.0
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 7.0
          },
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 6,
        "dates": {
          "fromDate": "2021-08-24",
          "toDate": "2021-08-25",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 0.75,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-08-24",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.75
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 13,
        "dates": {
          "fromDate": "2021-07-05",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-07-05",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 12,
        "dates": {
          "fromDate": "2021-06-07",
          "toDate": "2021-06-09",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 3.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-06-07",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 3
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 11,
        "dates": {
          "fromDate": "2021-06-01",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-06-01",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 3,
            "name": "Taken",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      }
    ]
    meta:
      empNumber: 1
      total: 12

  'with limit':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    query:
      limit: 10
    data: [
      {
        "id": 17,
        "dates": {
          "fromDate": "2021-11-04",
          "toDate": "2021-11-05",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-11-04",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1.5
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": {
          "id": 4,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      },
      {
        "id": 16,
        "dates": {
          "fromDate": "2021-11-03",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 0,
              "used": 1,
              "scheduled": 1,
              "pending": 0,
              "taken": 0,
              "balance": -1,
              "asAtDate": "2021-11-03",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 1,
          "name": "US - Personal",
          "deleted": false
        },
        "lastComment": {
          "id": 3,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      },
      {
        "id": 10,
        "dates": {
          "fromDate": "2021-10-29",
          "toDate": "2021-10-31",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-29",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 9,
        "dates": {
          "fromDate": "2021-10-27",
          "toDate": "2021-10-28",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-27",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.5
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 8,
        "dates": {
          "fromDate": "2021-10-25",
          "toDate": "2021-10-26",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-10-25",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.5
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 7,
        "dates": {
          "fromDate": "2021-10-12",
          "toDate": null,
          "durationType": {
            "id": 1,
            "type": "half_day_morning"
          },
          "startTime": "09:00",
          "endTime": "13:00"
        },
        "noOfDays": 0.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-10-12",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 0.5
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": {
          "id": 1,
          "comment": "Clinic day",
          "date": "2021-09-15",
          "time": "19:29"
        }
      },
      {
        "id": 5,
        "dates": {
          "fromDate": "2021-09-30",
          "toDate": null,
          "durationType": {
            "id": 3,
            "type": "specify_time"
          },
          "startTime": "09:00",
          "endTime": "14:00"
        },
        "noOfDays": 0.625,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-09-30",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.625
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 4,
        "dates": {
          "fromDate": "2021-09-02",
          "toDate": "2021-09-16",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 11.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-09-02",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 3,
            "name": "Taken",
            "lengthDays": 2.0
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 7.0
          },
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 6,
        "dates": {
          "fromDate": "2021-08-24",
          "toDate": "2021-08-25",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 0.75,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-08-24",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 0.75
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 13,
        "dates": {
          "fromDate": "2021-07-05",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-07-05",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      }
    ]
    meta:
      empNumber: 1
      total: 12

  'with offset':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    query:
      offset: 10
    data: [
      {
        "id": 12,
        "dates": {
          "fromDate": "2021-06-07",
          "toDate": "2021-06-09",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 3.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-06-07",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 3
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      },
      {
        "id": 11,
        "dates": {
          "fromDate": "2021-06-01",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 7,
              "used": 3.875,
              "scheduled": 0.5,
              "pending": 2.375,
              "taken": 1,
              "balance": 3.125,
              "asAtDate": "2021-06-01",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 3,
            "name": "Taken",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 6,
          "name": "Medical",
          "deleted": false
        },
        "lastComment": null
      }
    ]
    meta:
      empNumber: 1
      total: 12

  'scheduled status changed to taken if date passes':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    query:
      offset: 7
      limit: 1
    data: [
      {
        "id": 4,
        "dates": {
          "fromDate": "2021-09-02",
          "toDate": "2021-09-16",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 11.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9.0,
              "taken": 2.0,
              "balance": 7.5,
              "asAtDate": "2021-09-02",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 3,
            "name": "Taken",
            "lengthDays": 2.0
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 7.0
          },
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1.0
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1.0
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      }
    ]
    meta:
      empNumber: 1
      total: 12

  'scheduled status changed to taken if current date equals':
    userId: 2
    now:
      datetime: '2021-09-02'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    query:
      offset: 7
      limit: 1
    data: [
      {
        "id": 4,
        "dates": {
          "fromDate": "2021-09-02",
          "toDate": "2021-09-16",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 11.0,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20.0,
              "used": 12.5,
              "scheduled": 3.5,
              "pending": 9.0,
              "taken": 0.0,
              "balance": 7.5,
              "asAtDate": "2021-09-02",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 2.0
          },
          {
            "id": 1,
            "name": "Pending Approval",
            "lengthDays": 7.0
          },
          {
            "id": 0,
            "name": "Cancelled",
            "lengthDays": 1
          },
          {
            "id": -1,
            "name": "Rejected",
            "lengthDays": 1
          }
        ],
        "allowedActions": [ ],
        "hasMultipleStatus": true,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": null
      }
    ]
    meta:
      empNumber: 1
      total: 12

  'with date range - single day':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    query:
      fromDate: '2021-11-03'
      toDate: '2021-11-03'
    data: [
      {
        "id": 16,
        "dates": {
          "fromDate": "2021-11-03",
          "toDate": null,
          "durationType": {
            "id": 0,
            "type": "full_day"
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 0,
              "used": 1,
              "scheduled": 1,
              "pending": 0,
              "taken": 0,
              "balance": -1,
              "asAtDate": "2021-11-03",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 1,
          "name": "US - Personal",
          "deleted": false
        },
        "lastComment": {
          "id": 3,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      }
    ]
    meta:
      empNumber: 1
      total: 1

  'with date range - single day on multiday leave request':
    userId: 2
    now:
      datetime: '2021-09-19'
    services:
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    query:
      fromDate: '2021-11-04'
      toDate: '2021-11-04'
    data: [
      {
        "id": 17,
        "dates": {
          "fromDate": "2021-11-04",
          "toDate": "2021-11-05",
          "durationType": {
            "id": null,
            "type": null
          },
          "startTime": null,
          "endTime": null
        },
        "noOfDays": 1.5,
        "leaveBalances": [
          {
            "period": {
              "startDate": "2021-01-01",
              "endDate": "2021-12-31"
            },
            "balance": {
              "entitled": 20,
              "used": 12.5,
              "scheduled": 1.5,
              "pending": 9,
              "taken": 2,
              "balance": 7.5,
              "asAtDate": "2021-11-04",
              "endDate": "2021-12-31"
            }
          }
        ],
        "multiPeriod": false,
        "leaveBreakdown": [
          {
            "id": 2,
            "name": "Scheduled",
            "lengthDays": 1.5
          }
        ],
        "allowedActions": [
          {
            "action": "CANCEL",
            "name": "Cancel"
          }
        ],
        "hasMultipleStatus": false,
        "employee": {
          "empNumber": 1,
          "lastName": "Adalwin",
          "firstName": "Odis",
          "middleName": "",
          "employeeId": "0001",
          "terminationId": null
        },
        "leaveType": {
          "id": 2,
          "name": "US - Vacation",
          "deleted": false
        },
        "lastComment": {
          "id": 4,
          "comment": "Assign",
          "date": "2021-09-15",
          "time": "20:53"
        }
      }
    ]
    meta:
      empNumber: 1
      total: 1

GetOne:
  'get own leave request - Admin':
    userId: 1
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    data:
      id: 2
      leaveType:
        id: 6
        name: Medical
        deleted: false
      dateApplied: '2021-09-23'
    meta: [ ]

  'get own leave request - ESS':
    userId: 2
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 4
    data:
      id: 4
      leaveType:
        id: 2
        name: US - Vacation
        deleted: false
      dateApplied: '2021-09-02'
    meta: [ ]

  'get other leave request - Admin':
    userId: 1
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 4
    exception:
      class: 'OrangeHRM\Core\Api\V2\Exception\ForbiddenException'
      message: 'Unauthorized'

  'get other leave request - ESS':
    userId: 3
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 12
    exception:
      class: 'OrangeHRM\Core\Api\V2\Exception\ForbiddenException'
      message: 'Unauthorized'

  'get other leave request - ESS - terminated employee & deleted leave type':
    userId: 5
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 14
    data:
      id: 14
      leaveType:
        id: 4
        name: CAN - Personal
        deleted: true
      dateApplied: '2021-06-01'
    meta: [ ]

  'get leave request - Admin - detailed model':
    userId: 1
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 2
    now:
      datetime: '2021-09-15'
    query:
      model: 'detailed'
    data:
      id: 2
      dates:
        fromDate: '2021-09-23'
        toDate: '2021-09-26'
        durationType:
          id: null
          type: null
        startTime: null
        endTime: null
      noOfDays: 1.5
      leaveBalances:
        0:
          period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 2.5
            scheduled: 0.0
            pending: 2.5
            taken: 0.0
            balance: 4.5
            asAtDate: '2021-09-23'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        0:
          id: 1
          name: Pending Approval
          lengthDays: 1.5
      allowedActions:
        0:
          action: CANCEL
          name: Cancel
      hasMultipleStatus: false
      employee:
        empNumber: 4
        lastName: Abbey
        firstName: Kayla
        middleName: ''
        employeeId: 0004
        terminationId: null
      leaveType:
        id: 6
        name: Medical
        deleted: false
      lastComment: null
    meta: [ ]

  'get leave request - ESS - detailed model - partial leave':
    userId: 2
    services:
      admin.user_service: \OrangeHRM\Admin\Service\UserService
      core.config_service: \OrangeHRM\Core\Service\ConfigService
      pim.employee_service: \OrangeHRM\Pim\Service\EmployeeService
      core.normalizer_service: \OrangeHRM\Core\Service\NormalizerService
      leave.leave_period_service: \OrangeHRM\Leave\Service\LeavePeriodService
      leave.leave_request_service: \OrangeHRM\Leave\Service\LeaveRequestService
      leave.leave_config_service: \OrangeHRM\Leave\Service\LeaveConfigurationService
      leave.leave_entitlement_service: \OrangeHRM\Leave\Service\LeaveEntitlementService
      core.authorization.user_role_manager_helper: \OrangeHRM\Core\Authorization\Helper\UserRoleManagerHelper
    factories:
      core.authorization.user_role_manager: [ '\OrangeHRM\Core\Authorization\Manager\UserRoleManagerFactory', 'getNewUserRoleManager' ]
    attributes:
      leaveRequestId: 7
    now:
      datetime: '2021-10-12'
    query:
      model: 'detailed'
    data:
      id: 7
      dates:
        fromDate: '2021-10-12'
        toDate: null
        durationType:
          id: 1
          type: 'half_day_morning'
        startTime: '09:00'
        endTime: '13:00'
      noOfDays: 0.5
      leaveBalances:
        0:
          period:
            startDate: '2021-01-01'
            endDate: '2021-12-31'
          balance:
            entitled: 7.0
            used: 3.875
            scheduled: 0.5
            pending:  2.375
            taken: 1.0
            balance: 3.125
            asAtDate: '2021-10-12'
            endDate: '2021-12-31'
      multiPeriod: false
      leaveBreakdown:
        0:
          id: 2
          name: Scheduled
          lengthDays: 0.5
      allowedActions:
        0:
          action: CANCEL
          name: Cancel
      hasMultipleStatus: false
      employee:
        empNumber: 1
        lastName: Adalwin
        firstName: Odis
        middleName: ''
        employeeId: 0001
        terminationId: null
      leaveType:
        id: 6
        name: Medical
        deleted: false
      lastComment:
          id: 1
          comment: 'Clinic day'
          date: '2021-09-15'
          time: '19:29'
    meta: [ ]
